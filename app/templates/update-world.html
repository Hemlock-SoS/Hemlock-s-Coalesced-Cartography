{% extends "base.html" %}

{% block content %}
    <div class="modal" style="display: block; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
  <div style="background-color: #1f2937; margin: 10% auto; padding: 20px; width: 80%; max-width: 500px; border-radius: 5px;">
    <button 
      onclick="window.history.back()"
      style="float: right; font-size: 24px; border: none; background: none; cursor: pointer; color: #fff;">
      &times;
    </button>
    
    <h3>Update World</h3>
    
    <form 
      hx-post="{{ url_for('update_world', id=id) }}" 
      hx-encoding="multipart/form-data"
      hx-on:htmx:after-request="if(event.detail.successful) window.history.back()">
      
      {{ form.csrf_token }}
      
      <div style="margin-bottom: 15px;">
        {{ form.worldName.label }}
        {{ form.worldName(style="width: 100%; padding: 8px; margin-top: 5px; background-color: #374151; color: #fff; border: 1px solid #4b5563; border-radius: 4px;") }}
        {% if form.worldName.errors %}
          <span style="color: red;">{{ form.worldName.errors[0] }}</span>
        {% endif %}
      </div>
      
      <div style="margin-bottom: 15px;">
        {{ form.thumbnail.label }}
        {{ form.thumbnail(style="width: 100%; padding: 8px; margin-top: 5px; background-color: #374151; color: #fff; border: 1px solid #4b5563; border-radius: 4px;") }}
        {% if form.thumbnail.errors %}
          <span style="color: red;">{{ form.thumbnail.errors[0] }}</span>
        {% endif %}
      </div>

      <div style="margin-bottom: 15px;">
        {{ form.worldInfo.label}}
        {{ form.worldInfo(style="width: 100%; padding: 8px; margin-top: 5px; background-color: #374151; color: #fff; border: 1px solid #4b5563; border-radius: 4px;") }}
        {% if form.thumbnail.errors %}
          <span style="color: red;">{{ form.thumbnail.errors[0] }}</span>
        {% endif %}
      </div>
      
      <button type="submit" style="padding: 10px 20px; margin-right: 10px; background-color: #3b82f6; color: #fff; border: none; border-radius: 4px; cursor: pointer;">Submit</button>
      <button 
        type="button"
        onclick="window.history.back()"
        style="padding: 10px 20px; background-color: #6b7280; color: #fff; border: none; border-radius: 4px; cursor: pointer;">
        Cancel
      </button>
    </form>
  </div>
</div>
{% endblock %}